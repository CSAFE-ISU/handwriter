---
title: "handwriter functions map"
author: "Stephanie Reinders"
date: "2024-04-10"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(sdcHierarchies)
```

```{r}
h <- hier_create(root = "Total", nodes = c('processDocument'))

# processDocument
h <- hier_add(h, root = "processDocument", nodes = c("readPNGBinary", "thinImage", "processHandwriting"))
h <- hier_add(h, root = "processHandwriting", nodes = c("getNodes", 
                                                        "skeletonize",
                                                        "getComponents",
                                                        "mergeNodes",
                                                        "getAllUniquePaths",
                                                        "getLoops",
                                                        "updateSkeleton0",
                                                        "getBreakPoints",
                                                        "addTroughNodes",
                                                        "updateBreakPoints",
                                                        "isolateGraphs",
                                                        "new_assign_sequential_ids",
                                                        "organizeLetters",
                                                        "createLetterLists",
                                                        "addCharacterFeatures",
                                                        'flatten_list'))
h <- hier_add(h, root = 'getNodes', nodes = c('i_to_rc (in getNodes)', 'countChanges', 'nested_node2by2fill'))
```

```{r}
# skeletonize
h <- hier_add(h, root = 'skeletonize', nodes = c('getSkeletonDF (nested)', 
                                                 'getSkeleton'))
h <- hier_add(h, root = 'getSkeletonDF (nested)', nodes = c('i_to_rc (in getSkeletonDF)', 'findNeighbors'))
```

```{r}
# getComponents
h <- hier_add(h, root = 'getComponents', nodes = c('initializeComponents (nested)',
                                                   'addSkeletons (nested)',
                                                   'addIndices (nested)',
                                                   'addNodes (nested)',
                                                   'addSkeleton0s (nested)',
                                                   'addAdjMatrices (nested)'))
h <- hier_add(h, root = 'addIndices (nested)', nodes = c('i_to_rc'))
h <- hier_add(h, root = 'addSkeleton0s (nested)', nodes = c('getSkeletonDF0', 'getSkeleton (in addSkeleton0s)'))
h <- hier_add(h, root = 'addAdjMatrices (nested)', nodes = c('getNodeOnlyDistAdjMatrix'))

h <- hier_add(h, root = 'nested_node2by2fill', nodes = c('findNeighbors (in nested_node2by2fill)'))
```

```{r}
h <- hier_add(h, root = 'getSkeletonDF0', nodes = c('findNeighbors0'))
h <- hier_add(h, root = 'findNeighbors0', nodes = c('findNeighbors (in findNeighbors0)'))
h <- hier_add(h, root = 'mergeNodes', nodes = c('i_to_r (in mergeNodes)', 
                                                'i_to_c (in mergeNodes)', 
                                                # 'findMergeNodes', 
                                                'migrateConnections'))
h <- hier_add(h, root = 'getBreakPoints', nodes = c('findTroughNodes'))
h <- hier_add(h, root = 'findTroughNodes', nodes = c('isTroughNode'))
h <- hier_add(h, root = 'addTroughNodes', nodes = c('i_to_r', 'i_to_c'))
h <- hier_add(h, root = 'updateBreakPoints', nodes = c('getNodeGraph', 'checkBreakPoints'))
h <- hier_add(h, root = 'isolateGraphs', nodes = c('makeGraphs', 'checkStacking', 'checkSimplicityBreaks'))
h <- hier_add(h, root = 'checkSimplicityBreaks', nodes = c('pathLetterAssociate (in checkSimplicityBreaks)'))
h <- hier_add(h, root = 'createLetterLists', nodes = c('pathLetterAssociate', 'nested_getConnectivity', 'getNodeOrder'))
h <- hier_add(h, root = 'getNodeOrder', nodes = c('nested_toRC'))
h <- hier_add(h, root = 'addCharacterFeatures', nodes = c('extract_character_features'))
h <- hier_add(h, root = 'extract_character_features', nodes = c('char_to_feature',
                                                                'add_updown_neighboring_char_dist',
                                                                'add_line_info', 
                                                                'nov_neighboring_char_dist', 
                                                                'add_covariance_matrix'))
h <- hier_add(h, root = 'char_to_feature', nodes = c('get_aspect_info', 'get_centroid_info'))
h <- hier_add(h, root = 'get_aspect_info', nodes = c('i_to_rci (in get_aspect_info)'))
h <- hier_add(h, root = 'get_centroid_info', nodes = c('i_to_rci (in get_centroid_info)', 'rc_to_i (in get_centroid_info)'))
h <- hier_add(h, root = 'add_updown_neighboring_char_dist', nodes = c('i_to_rci', 'rc_to_i'))
h <- hier_add(h, root = 'add_line_info', nodes = c('line_number_extract', 'all_down_dists', 'all_centroids'))
h <- hier_add(h, root = 'line_number_extract', nodes = c('i_to_rci (in line_number_extract)'))
h <- hier_add(h, root = 'nov_neighboring_char_dist', nodes = c('character_features_by_line'))
h <- hier_add(h, root = 'add_covariance_matrix', nodes = c('i_to_rc (in add_covariance_matrix)'))


```

```{r}
hier_display(h)
```





